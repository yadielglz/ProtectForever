<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Protect">
    <meta name="theme-color" content="#E20074">
    <meta name="msapplication-TileColor" content="#E20074">
    <meta name="msapplication-TileImage" content="icon-192x192.png">
    
    <title>Protect - Device Protection</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="script.js" as="script">
    <link rel="preload" href="config.js" as="script">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon with cache-busting -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png?v=3">
    <link rel="icon" type="image/x-icon" href="favicon.ico?v=3">
    <link rel="apple-touch-icon" href="app-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192x192.png?v=3">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512x512.png?v=3">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-container">
            <div class="splash-logo">
                <img src="https://i.ibb.co/ZpV0Xn3y/Chat-GPT-Image-Oct-19-2025-08-27-49-PM.png" alt="Protect" class="splash-icon">
            </div>
            <div class="splash-title">Protect</div>
            <div class="splash-subtitle">Device Protection Solutions</div>
            <div class="splash-loader">
                <div class="loader-spinner"></div>
            </div>
        </div>
    </div>

    <!-- Passcode Screen -->
    <div id="passcodeScreen" class="passcode-screen">
        <div class="passcode-container">
            <div class="passcode-header">
                <div class="app-logo">
                    <div class="logo-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h1>Protect</h1>
                </div>
                <p class="passcode-subtitle">Enter your access code</p>
            </div>
            
            <div class="passcode-display">
                <div class="passcode-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
                <div id="passcodeError" class="passcode-error">Invalid code</div>
            </div>
            
            <div class="passcode-keypad">
                <button class="keypad-key" data-key="1">1</button>
                <button class="keypad-key" data-key="2">2</button>
                <button class="keypad-key" data-key="3">3</button>
                <button class="keypad-key" data-key="4">4</button>
                <button class="keypad-key" data-key="5">5</button>
                <button class="keypad-key" data-key="6">6</button>
                <button class="keypad-key" data-key="7">7</button>
                <button class="keypad-key" data-key="8">8</button>
                <button class="keypad-key" data-key="9">9</button>
                <button class="keypad-key keypad-clear" data-key="clear">
                    <i class="fas fa-backspace"></i>
                </button>
                <button class="keypad-key" data-key="0">0</button>
                <button class="keypad-key keypad-enter" data-key="enter">
                    <i class="fas fa-check"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="main-app">
        <!-- Navigation Header -->
        <nav class="nav-header">
            <div class="nav-content">
                <div class="nav-left">
                    <div class="app-brand">
                        <div class="brand-icon">
                            <img src="https://i.ibb.co/ZpV0Xn3y/Chat-GPT-Image-Oct-19-2025-08-27-49-PM.png" alt="Protect" class="header-icon">
                        </div>
                        <span class="brand-text">Protect</span>
                    </div>
                </div>
                <div class="nav-right">
                    <div id="timeDateDisplay" class="time-date-display">
                        <div id="currentTime" class="current-time">12:00 PM</div>
                        <div id="currentDate" class="current-date">Jan 1, 2024</div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <div class="welcome-content">
                    <h2 class="welcome-title">Find Your Device Protection</h2>
                    <p class="welcome-subtitle">Select your device to view available protection options</p>
                </div>
            </section>

            <!-- Device Selection Flow -->
            <section class="device-flow">
                <!-- Step 1: Brand Selection -->
                <div id="brandStep" class="flow-step active">
                    <div class="step-header">
                        <div class="step-indicator">
                            <span class="step-number">1</span>
                            <span class="step-label">Choose Brand</span>
                        </div>
                    </div>
                    <div class="search-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="brandSearch" class="search-input" placeholder="Search brands..." aria-label="Search brands">
                            <button id="clearBrandSearch" class="search-clear" aria-label="Clear search" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div id="brandGrid" class="brand-grid">
                        <!-- Brand cards will be populated here -->
                    </div>
                    <div id="brandEmptyState" class="empty-state" style="display: none;">
                        <div class="empty-state-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="empty-state-title">No brands found</div>
                        <div class="empty-state-message">Try adjusting your search</div>
                    </div>
                </div>

                <!-- Step 2: Model Selection -->
                <div id="modelStep" class="flow-step">
                    <div class="step-header">
                        <div class="step-indicator">
                            <span class="step-number">2</span>
                            <span class="step-label">Choose Model</span>
                        </div>
                        <button id="backToBrands" class="back-button" aria-label="Back to brand selection">
                            <i class="fas fa-arrow-left"></i>
                            <span>Back</span>
                        </button>
                    </div>
                    <div class="search-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="modelSearch" class="search-input" placeholder="Search models..." aria-label="Search models">
                            <button id="clearModelSearch" class="search-clear" aria-label="Clear search" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div id="modelGrid" class="model-grid">
                        <!-- Model cards will be populated here -->
                    </div>
                    <div id="modelEmptyState" class="empty-state" style="display: none;">
                        <div class="empty-state-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="empty-state-title">No models found</div>
                        <div class="empty-state-message">Try adjusting your search</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <div class="nav-item active">
                <div class="nav-icon">
                    <i class="fas fa-home"></i>
                </div>
                <span class="nav-label">Home</span>
            </div>
            <div class="nav-item" id="settingsNavBtn">
                <div class="nav-icon">
                    <i class="fas fa-cog"></i>
                </div>
                <span class="nav-label">Settings</span>
            </div>
            <div class="nav-item" id="timerNavBtn">
                <div class="nav-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <span class="nav-label" id="timerNavLabel">20</span>
            </div>
        </nav>
    </div>

    <!-- Device Results Modal -->
    <div id="deviceModal" class="device-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <div class="device-info">
                        <div class="device-icon-wrapper">
                            <div class="device-icon" id="deviceIcon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                        </div>
                        <div class="device-details">
                            <h3 id="deviceName">Device Name</h3>
                            <div id="deviceModel" class="device-model-info">Model Information</div>
                        </div>
                    </div>
                    <button id="closeModal" class="close-button" aria-label="Close modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Protection Options -->
                <div class="protection-options">
                    <div class="options-header">
                        <div class="options-title-section">
                            <h4 class="options-title">
                                <i class="fas fa-shield-alt"></i>
                                Protection Options
                            </h4>
                            <span id="optionsCount" class="options-count">0 options</span>
                        </div>
                    </div>
                    <div id="optionsList" class="options-list">
                        <!-- Protection options will be populated here -->
                    </div>
                </div>

                <!-- Modal Actions -->
                <div class="modal-actions">
                    <button id="refreshBtn" class="action-button secondary">
                        <i class="fas fa-sync-alt"></i>
                        <span>Refresh</span>
                    </button>
                    <button id="newSearchBtn" class="action-button primary">
                        <i class="fas fa-search"></i>
                        <span>New Search</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Menu -->
    <div id="settingsMenu" class="settings-menu">
        <div class="settings-content">
            <div class="settings-header">
                <h3>Settings</h3>
                <button id="closeSettings" class="close-button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="settings-options">
                <button id="refreshDataBtn" class="settings-option">
                    <i class="fas fa-sync-alt"></i>
                    <span>Refresh Data</span>
                </button>
                <button id="clearCacheBtn" class="settings-option">
                    <i class="fas fa-trash-alt"></i>
                    <span>Clear All Cache & Reload</span>
                </button>
                <button id="reloadAppBtn" class="settings-option">
                    <i class="fas fa-redo"></i>
                    <span>Reload App</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text">Loading...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>